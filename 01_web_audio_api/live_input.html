<!-- 

  | ~ ~ ~ ~ ~ ~ || WEB AUDIO API WORKSHOP || ~ ~ ~ ~ ~ ~ |

  This file will get the signal from mic/line in.

  By Alessandro Contini
  Based on work by Stuart Memo

  Released under Beer-Ware license https://en.wikipedia.org/wiki/Beerware

 -->

 <html>
  <head>
    <title>Live input</title>
  </head>

<!-- THE STYLE -->
  <style type="text/css">
    body {
      font-family: Helvetica, Arial;
      font-weight: bold;
      font-size: 20em;
      text-align: center;
    }
  </style>

<!-- THE CONTENT -->
  <body>
    <span>Connect your guitar :P</span>
  </body>

<!-- THE MAGIC! -->
  <script type="text/javascript">
    // Create audio (context) container
    var audio = new (AudioContext || webkitAudioContext)();

    function gotStream(stream) {
      var guitar = audio.createMediaStreamSource(stream);
      guitar.connect(audio.destination);
    }

    function gotStreamError() {
      console.log("Sorry");
    }

    navigator.webkitGetUserMedia({audio: true}, gotStream, gotStreamError);
  </script>
</html>